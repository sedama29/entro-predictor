{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nWebBrowser.maybeCompleteAuthSession();\nexport default function App() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    userInfo = _useState2[0],\n    setUserInfo = _useState2[1];\n  var _Google$useAuthReques = Google.useAuthRequest({\n      redirectUri: 'https://auth.expo.io/@sedama/entro-predictor',\n      expoClientId: '1014351807515-ocn7odeteusvh8fvn8lar6b9a0dg9rq8.apps.googleusercontent.com',\n      weblientId: '1014351807515-ocn7odeteusvh8fvn8lar6b9a0dg9rq8.apps.googleusercontent.com',\n      iosClientId: '1014351807515-s6g9phvqvhgm0vdptj98md9g6rfgov0r.apps.googleusercontent.com',\n      androidClientId: '1014351807515-cgbtu7fhe2q7tsh1us09hke3jll10ji5.apps.googleusercontent.com',\n      scopes: ['profile', 'email']\n    }, {\n      projectNameForProxy: \"@sedama/entro-predictor\"\n    }),\n    _Google$useAuthReques2 = _slicedToArray(_Google$useAuthReques, 3),\n    request = _Google$useAuthReques2[0],\n    response = _Google$useAuthReques2[1],\n    promptAsync = _Google$useAuthReques2[2];\n  useEffect(function () {\n    if ((response == null ? void 0 : response.type) === 'success') {\n      getUserInfo(response.authentication.accessToken);\n    } else if ((response == null ? void 0 : response.type) === 'error') {\n      console.error('Authentication error:', response.error);\n    }\n  }, [response]);\n  var getUserInfo = function () {\n    var _ref = _asyncToGenerator(function* (token) {\n      try {\n        var userInfoResponse = yield fetch('https://www.googleapis.com/userinfo/v2/me', {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        var userData = yield userInfoResponse.json();\n        setUserInfo(userData);\n        AsyncStorage.setItem('@user', JSON.stringify(userData));\n      } catch (error) {\n        console.error('Failed to fetch user data:', error);\n      }\n    });\n    return function getUserInfo(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  return _jsx(View, {\n    style: styles.container,\n    children: !userInfo ? _jsx(Button, {\n      title: \"Sign in with Google\",\n      disabled: !request,\n      onPress: function onPress() {\n        return promptAsync();\n      }\n    }) : _jsxs(View, {\n      style: styles.userInfo,\n      children: [_jsx(Image, {\n        source: {\n          uri: userInfo.picture\n        },\n        style: styles.image\n      }), _jsxs(Text, {\n        style: styles.text,\n        children: [\"Email: \", userInfo.email]\n      }), _jsxs(Text, {\n        style: styles.text,\n        children: [\"Name: \", userInfo.name]\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  userInfo: {\n    alignItems: 'center'\n  },\n  image: {\n    width: 100,\n    height: 100,\n    borderRadius: 50\n  },\n  text: {\n    fontSize: 20,\n    marginTop: 10\n  }\n});","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","Text","View","Button","Image","WebBrowser","Google","AsyncStorage","jsx","_jsx","jsxs","_jsxs","maybeCompleteAuthSession","App","_useState","_useState2","_slicedToArray","userInfo","setUserInfo","_Google$useAuthReques","useAuthRequest","redirectUri","expoClientId","weblientId","iosClientId","androidClientId","scopes","projectNameForProxy","_Google$useAuthReques2","request","response","promptAsync","type","getUserInfo","authentication","accessToken","console","error","_ref","_asyncToGenerator","token","userInfoResponse","fetch","headers","Authorization","userData","json","setItem","JSON","stringify","_x","apply","arguments","style","styles","container","children","title","disabled","onPress","source","uri","picture","image","text","email","name","create","flex","backgroundColor","alignItems","justifyContent","width","height","borderRadius","fontSize","marginTop"],"sources":["/Users/sathwikaedama/Desktop/entro-predictor/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StyleSheet, Text, View, Button, Image } from 'react-native';\nimport * as WebBrowser from 'expo-web-browser';\nimport * as Google from 'expo-auth-session/providers/google';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nWebBrowser.maybeCompleteAuthSession();\n\nexport default function App() {\n    const [userInfo, setUserInfo] = useState(null);\n\n    const [request, response, promptAsync] = Google.useAuthRequest({\n      redirectUri: 'https://auth.expo.io/@sedama/entro-predictor',\n      expoClientId: '1014351807515-ocn7odeteusvh8fvn8lar6b9a0dg9rq8.apps.googleusercontent.com',\n      weblientId: '1014351807515-ocn7odeteusvh8fvn8lar6b9a0dg9rq8.apps.googleusercontent.com',\n      iosClientId: '1014351807515-s6g9phvqvhgm0vdptj98md9g6rfgov0r.apps.googleusercontent.com',\n      androidClientId: '1014351807515-cgbtu7fhe2q7tsh1us09hke3jll10ji5.apps.googleusercontent.com',\n      scopes: ['profile', 'email']\n    },\n    {\n    projectNameForProxy: \"@sedama/entro-predictor\"\n    });\n    \n    useEffect(() => {\n        if (response?.type === 'success') {\n            getUserInfo(response.authentication.accessToken);\n        } else if (response?.type === 'error') {\n            console.error('Authentication error:', response.error);\n        }\n    }, [response]);\n\n    const getUserInfo = async (token) => {\n        try {\n            const userInfoResponse = await fetch('https://www.googleapis.com/userinfo/v2/me', {\n                headers: { Authorization: `Bearer ${token}` },\n            });\n            const userData = await userInfoResponse.json();\n            setUserInfo(userData);\n            AsyncStorage.setItem('@user', JSON.stringify(userData));\n        } catch (error) {\n            console.error('Failed to fetch user data:', error);\n        }\n    };\n\n    return (\n        <View style={styles.container}>\n            {!userInfo ? (\n                <Button\n                    title='Sign in with Google'\n                    disabled={!request}\n                    onPress={() => promptAsync()}\n                />\n            ) : (\n                <View style={styles.userInfo}>\n                    <Image source={{ uri: userInfo.picture }} style={styles.image} />\n                    <Text style={styles.text}>Email: {userInfo.email}</Text>\n                    <Text style={styles.text}>Name: {userInfo.name}</Text>\n                </View>\n            )}\n        </View>\n    );\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#fff',\n        alignItems: 'center',\n        justifyContent: 'center',\n    },\n    userInfo: {\n        alignItems: 'center',\n    },\n    image: {\n        width: 100,\n        height: 100,\n        borderRadius: 50,\n    },\n    text: {\n        fontSize: 20,\n        marginTop: 10,\n    },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}